Each of these three commands adds Rainbow Armor to Minecraft in different ways, as seen in [this video](https://www.youtube.com/shorts/jj5XvIXx3pE). Put one of these commands in a repeating command block (in a loaded chunk) and it will work for all players on the server. These commands were written in version 26.1, and will not work in prior versions.

The first just constantly puts new randomly dyed armor on players, so it would not work well for a survival world.
```
execute as @a if predicate {condition:"minecraft:entity_properties",entity:"this",predicate:{periodic_tick:3}} run loot replace entity @s armor.feet loot {pools:[{rolls:1,entries:[{type:"minecraft:item",name:"minecraft:leather_boots"}]},{rolls:1,entries:[{type:"minecraft:item",name:"minecraft:leather_leggings"}]},{rolls:1,entries:[{type:"minecraft:item",name:"minecraft:leather_chestplate"}]},{rolls:1,entries:[{type:"minecraft:item",name:"minecraft:leather_helmet"}]}],functions:[{function:"set_random_dyes",number_of_dyes:1}]}
```

The second will randomly dye whatever Leather Armor you are wearing, and is technically survival friendly, though makes a terrible constant equipping sound.
```
execute as @a if predicate {condition:"minecraft:entity_properties",entity:"this",predicate:{periodic_tick:3}} run loot replace entity @s armor.feet loot {pools:[{rolls:1,entries:[{type:"minecraft:alternatives",children:[{type:"minecraft:slots",slot_source:{type:"minecraft:slot_range",source:"this",slots:"armor.feet"},conditions:[{condition:"minecraft:inverted",term:{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{feet:{items:"air"}}}}}]},{type:"minecraft:item",name:"tnt"}]}]},{rolls:1,entries:[{type:"minecraft:alternatives",children:[{type:"minecraft:slots",slot_source:{type:"minecraft:slot_range",source:"this",slots:"armor.legs"},conditions:[{condition:"minecraft:inverted",term:{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{legs:{items:"air"}}}}}]},{type:"minecraft:item",name:"tnt"}]}]},{rolls:1,entries:[{type:"minecraft:alternatives",children:[{type:"minecraft:slots",slot_source:{type:"minecraft:slot_range",source:"this",slots:"armor.chest"},conditions:[{condition:"minecraft:inverted",term:{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{chest:{items:"air"}}}}}]},{type:"minecraft:item",name:"tnt"}]}]},{rolls:1,entries:[{type:"minecraft:alternatives",children:[{type:"minecraft:slots",slot_source:{type:"minecraft:slot_range",source:"this",slots:"armor.head"},conditions:[{condition:"minecraft:inverted",term:{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{head:{items:"air"}}}}}]},{type:"minecraft:empty"}]}]}],functions:[{function:"minecraft:set_random_dyes",number_of_dyes:1}]}
```

The third will change the armor model of whatever armor you are wearing to be dyeable, and randomly dyes it. It also removes the equipping sound.
```
execute as @a if predicate {condition:entity_properties,entity:this,predicate:{periodic_tick:3}} run loot replace entity @s armor.feet loot {pools:[{rolls:1,entries:[{type:alternatives,children:[{type:slots,slot_source:{type:slot_range,source:this,slots:armor.feet},conditions:[{condition:inverted,term:{condition:entity_properties,entity:this,predicate:{equipment:{feet:{items:air}}}}}],functions:[{function:set_components,components:{equippable:{slot:feet,equip_sound:intentionally_empty,asset_id:leather}}}]},{type:item,name:tnt}]}]},{rolls:1,entries:[{type:alternatives,children:[{type:slots,slot_source:{type:slot_range,source:this,slots:armor.legs},conditions:[{condition:inverted,term:{condition:entity_properties,entity:this,predicate:{equipment:{legs:{items:air}}}}}],functions:[{function:set_components,components:{equippable:{slot:legs,equip_sound:intentionally_empty,asset_id:leather}}}]},{type:item,name:tnt}]}]},{rolls:1,entries:[{type:alternatives,children:[{type:slots,slot_source:{type:slot_range,source:this,slots:armor.chest},conditions:[{condition:inverted,term:{condition:entity_properties,entity:this,predicate:{equipment:{chest:{items:air}}}}}],functions:[{function:set_components,components:{equippable:{slot:chest,equip_sound:intentionally_empty,asset_id:leather}}}]},{type:item,name:tnt}]}]},{rolls:1,entries:[{type:slots,slot_source:{type:slot_range,source:this,slots:armor.head},conditions:[{condition:inverted,term:{condition:entity_properties,entity:this,predicate:{equipment:{head:{items:air}}}}}],functions:[{function:set_components,components:{equippable:{slot:head,equip_sound:intentionally_empty,asset_id:leather}},conditions:[{condition:entity_properties,entity:this,predicate:{equipment:{head:{items:"#head_armor"}}}}]}]}]}],functions:[{function:set_random_dyes,number_of_dyes:1}]}
```

---

These commands were originally made before 26.1-snapshot-5, where the `set_random_dyes` loot table function would only ever work on items in the `#dyeable` item tag. As such, the last command that makes any armor type dyeable had to be significantly longer, at 8,866 characters. Although I would highly recommend you use the third command above instead, you can still check out the original, absurdly long command from the video here.
```
execute as @a if predicate {condition:"minecraft:entity_properties",entity:"this",predicate:{periodic_tick:3}} run loot replace entity @s armor.feet loot {pools:[{rolls:1,entries:[{type:"minecraft:alternatives",children:[{type:"minecraft:alternatives",children:[{type:"minecraft:slots",slot_source:{type:"minecraft:slot_range",source:"this",slots:"armor.feet"},conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{feet:{items:"#minecraft:foot_armor"}}}}],functions:[{function:"minecraft:set_item",item:"minecraft:leather_boots"},{function:"minecraft:set_components",components:{"minecraft:equippable":{slot:"feet",equip_sound:"minecraft:intentionally_empty",asset_id:"minecraft:leather"}}},{function:"minecraft:set_random_dyes",number_of_dyes:1},{function:"minecraft:set_item",item:"minecraft:copper_boots",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{feet:{items:"minecraft:copper_boots"}}}}]},{function:"minecraft:set_item",item:"minecraft:chainmail_boots",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{feet:{items:"minecraft:chainmail_boots"}}}}]},{function:"minecraft:set_item",item:"minecraft:golden_boots",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{feet:{items:"minecraft:golden_boots"}}}}]},{function:"minecraft:set_item",item:"minecraft:iron_boots",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{feet:{items:"minecraft:iron_boots"}}}}]},{function:"minecraft:set_item",item:"minecraft:diamond_boots",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{feet:{items:"minecraft:diamond_boots"}}}}]},{function:"minecraft:set_item",item:"minecraft:netherite_boots",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{feet:{items:"minecraft:netherite_boots"}}}}]}]},{type:"minecraft:slots",slot_source:{type:"minecraft:slot_range",source:"this",slots:"armor.feet"}}],conditions:[{condition:"minecraft:inverted",term:{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{feet:{items:"air"}}}}}]},{type:"minecraft:item",name:"tnt",functions:[]}]}]},{rolls:1,entries:[{type:"minecraft:alternatives",children:[{type:"minecraft:alternatives",children:[{type:"minecraft:slots",slot_source:{type:"minecraft:slot_range",source:"this",slots:"armor.legs"},conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{legs:{items:"#minecraft:leg_armor"}}}}],functions:[{function:"minecraft:set_item",item:"minecraft:leather_leggings"},{function:"minecraft:set_components",components:{"minecraft:equippable":{slot:"legs",equip_sound:"minecraft:intentionally_empty",asset_id:"minecraft:leather"}}},{function:"minecraft:set_random_dyes",number_of_dyes:1},{function:"minecraft:set_item",item:"minecraft:copper_leggings",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{legs:{items:"minecraft:copper_leggings"}}}}]},{function:"minecraft:set_item",item:"minecraft:chainmail_leggings",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{legs:{items:"minecraft:chainmail_leggings"}}}}]},{function:"minecraft:set_item",item:"minecraft:golden_leggings",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{legs:{items:"minecraft:golden_leggings"}}}}]},{function:"minecraft:set_item",item:"minecraft:iron_leggings",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{legs:{items:"minecraft:iron_leggings"}}}}]},{function:"minecraft:set_item",item:"minecraft:diamond_leggings",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{legs:{items:"minecraft:diamond_leggings"}}}}]},{function:"minecraft:set_item",item:"minecraft:netherite_leggings",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{legs:{items:"minecraft:netherite_leggings"}}}}]}]},{type:"minecraft:slots",slot_source:{type:"minecraft:slot_range",source:"this",slots:"armor.legs"}}],conditions:[{condition:"minecraft:inverted",term:{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{legs:{items:"air"}}}}}]},{type:"minecraft:item",name:"tnt"}]}]},{rolls:1,entries:[{type:"minecraft:alternatives",children:[{type:"minecraft:alternatives",children:[{type:"minecraft:slots",slot_source:{type:"minecraft:slot_range",source:"this",slots:"armor.chest"},conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{chest:{items:"#minecraft:chest_armor"}}}}],functions:[{function:"minecraft:set_item",item:"minecraft:leather_chestplate"},{function:"minecraft:set_components",components:{"minecraft:equippable":{slot:"chest",equip_sound:"minecraft:intentionally_empty",asset_id:"minecraft:leather"}}},{function:"minecraft:set_random_dyes",number_of_dyes:1},{function:"minecraft:set_item",item:"minecraft:copper_chestplate",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{chest:{items:"minecraft:copper_chestplate"}}}}]},{function:"minecraft:set_item",item:"minecraft:chainmail_chestplate",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{chest:{items:"minecraft:chainmail_chestplate"}}}}]},{function:"minecraft:set_item",item:"minecraft:golden_chestplate",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{chest:{items:"minecraft:golden_chestplate"}}}}]},{function:"minecraft:set_item",item:"minecraft:iron_chestplate",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{chest:{items:"minecraft:iron_chestplate"}}}}]},{function:"minecraft:set_item",item:"minecraft:diamond_chestplate",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{chest:{items:"minecraft:diamond_chestplate"}}}}]},{function:"minecraft:set_item",item:"minecraft:netherite_chestplate",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{chest:{items:"minecraft:netherite_chestplate"}}}}]}]},{type:"minecraft:slots",slot_source:{type:"minecraft:slot_range",source:"this",slots:"armor.chest"}}],conditions:[{condition:"minecraft:inverted",term:{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{chest:{items:"air"}}}}}]},{type:"minecraft:item",name:"tnt"}]}]},{rolls:1,entries:[{type:"minecraft:alternatives",children:[{type:"minecraft:alternatives",children:[{type:"minecraft:slots",slot_source:{type:"minecraft:slot_range",source:"this",slots:"armor.head"},conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{head:{items:"#minecraft:head_armor"}}}}],functions:[{function:"minecraft:set_item",item:"minecraft:leather_helmet"},{function:"minecraft:set_components",components:{"minecraft:equippable":{slot:"head",equip_sound:"minecraft:intentionally_empty",asset_id:"minecraft:leather"}}},{function:"minecraft:set_random_dyes",number_of_dyes:1},{function:"minecraft:set_item",item:"minecraft:copper_helmet",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{head:{items:"minecraft:copper_helmet"}}}}]},{function:"minecraft:set_item",item:"minecraft:chainmail_helmet",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{head:{items:"minecraft:chainmail_helmet"}}}}]},{function:"minecraft:set_item",item:"minecraft:golden_helmet",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{head:{items:"minecraft:golden_helmet"}}}}]},{function:"minecraft:set_item",item:"minecraft:iron_helmet",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{head:{items:"minecraft:iron_helmet"}}}}]},{function:"minecraft:set_item",item:"minecraft:diamond_helmet",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{head:{items:"minecraft:diamond_helmet"}}}}]},{function:"minecraft:set_item",item:"minecraft:netherite_helmet",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{head:{items:"minecraft:netherite_helmet"}}}}]},{function:"minecraft:set_item",item:"minecraft:turtle_helmet",conditions:[{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{head:{items:"minecraft:turtle_helmet"}}}}]}]},{type:"minecraft:slots",slot_source:{type:"minecraft:slot_range",source:"this",slots:"armor.head"}}],conditions:[{condition:"minecraft:inverted",term:{condition:"minecraft:entity_properties",entity:"this",predicate:{equipment:{head:{items:"air"}}}}}]},{type:"minecraft:item",name:"tnt",functions:[{function:"minecraft:discard"}]}]}]}]}
```
